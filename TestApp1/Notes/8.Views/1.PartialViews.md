# Partial Views in ASP.NET MVC Application

## Why Do We Need Partial Views in the ASP.NET MVC Application?

Partial views are useful when you need a common part of the user interface on multiple pages in a web application. They are reusable views with a `.cshtml` extension that help reduce code duplication.

You can use partial views for layout elements like headers, footers, and menus, or repeated data components such as comments on a blog or shipping and billing addresses in e-commerce invoices.

If you're familiar with ASP.NET Web Forms, you can think of partial views as similar to user controls â€” they are modular, reusable components that simplify your view logic.

## What Are Partial Views in MVC Application?

Partial views are rendered within another view. The HTML generated by the partial view is inserted into the parent view. Like standard views, partial views use the `.cshtml` extension.

## How to Display a Partial View

You can render a partial view in five primary ways:

- `Html.RenderPartial`
- `Html.Partial`
- `Html.RenderAction`
- `Html.Action`
- jQuery `load()` function

## Example: Partial Views in ASP.NET MVC

Suppose we have a `Product` class:

```csharp
public class Product
{
    public long ProductID { get; set; }
    public string Name { get; set; }
    public string Category { get; set; }
    public string Description { get; set; }
    public decimal Price { get; set; }
}
```

The view rendering a list of products might look like:

```razor
@foreach (var product in Model)
{
    <div>
        ID: <span>@product.ProductID</span>
        Name: <span>@product.Name</span>
        Category: <span>@product.Category</span>
        Description: <span>@product.Description</span>
        Price: <span>@product.Price</span>
    </div>
}
```

This repetition across multiple views makes it ideal for a partial view.

## Creating the MVC Application

1. Create a new ASP.NET Web Application named `PartialViewInMVC`.
2. Choose the Empty template and check the MVC checkbox.

### Creating the Model

Add `Product.cs` in the `Models` folder:

```csharp
namespace PartialViewInMVC.Models
{
    public class Product
    {
        public long ProductID { get; set; }
        public string Name { get; set; }
        public string Category { get; set; }
        public string Description { get; set; }
        public decimal Price { get; set; }
    }
}
```

### Creating the Controller

Add `ProductController` to the `Controllers` folder:

```csharp
public class ProductController : Controller
{
    public ActionResult Index()
    {
        List<Product> products = new List<Product>()
        {
            new Product { ProductID =1, Name ="Product 1", Category = "Category 1", Description ="Description 1", Price = 10m},
            new Product { ProductID =2, Name ="Product 2", Category = "Category 1", Description ="Description 2", Price = 20m},
            new Product { ProductID =3, Name ="Product 3", Category = "Category 1", Description ="Description 3", Price = 30m},
            new Product { ProductID =4, Name ="Product 4", Category = "Category 2", Description ="Description 4", Price = 40m},
            new Product { ProductID =5, Name ="Product 5", Category = "Category 2", Description ="Description 5", Price = 50m},
            new Product { ProductID =6, Name ="Product 6", Category = "Category 2", Description ="Description 6", Price = 50m}
        };
        return View(products);
    }
}
```

### Creating the View

Create an Index View for the `ProductController`:

```razor
@model IEnumerable<PartialViewInMVC.Models.Product>
@{
    ViewBag.Title = "Index";
}
<h2>Product List</h2>
<table class="table">
    <tr>
        <th>@Html.DisplayNameFor(model => model.ProductID)</th>
        <th>@Html.DisplayNameFor(model => model.Name)</th>
        <th>@Html.DisplayNameFor(model => model.Category)</th>
        <th>@Html.DisplayNameFor(model => model.Description)</th>
        <th>@Html.DisplayNameFor(model => model.Price)</th>
    </tr>
@foreach (var item in Model) {
    <tr>
        <td>@Html.DisplayFor(modelItem => item.ProductID)</td>
        <td>@Html.DisplayFor(modelItem => item.Name)</td>
        <td>@Html.DisplayFor(modelItem => item.Category)</td>
        <td>@Html.DisplayFor(modelItem => item.Description)</td>
        <td>@Html.DisplayFor(modelItem => item.Price)</td>
    </tr>
}
</table>
```

### Update RouteConfig.cs

```csharp
public class RouteConfig
{
    public static void RegisterRoutes(RouteCollection routes)
    {
        routes.IgnoreRoute("{resource}.axd/{*pathInfo}");
        routes.MapRoute(
            name: "Default",
            url: "{controller}/{action}/{id}",
            defaults: new { controller = "Product", action = "Index", id = UrlParameter.Optional }
        );
    }
}
```

## Creating the Partial View

1. Right-click `/Views/Shared`
2. Add new View: Name it `ProductDetails`, check `Create as a partial view`, and select `Product` model.

```razor
@model IEnumerable<PartialViewInMVC.Models.Product>
<div class="container">
    <div class="col-md-6">
        <h2>Product List</h2>
        <table class="table">
            <tr>
                <th>@Html.DisplayNameFor(model => model.ProductID)</th>
                <th>@Html.DisplayNameFor(model => model.Name)</th>
                <th>@Html.DisplayNameFor(model => model.Category)</th>
                <th>@Html.DisplayNameFor(model => model.Description)</th>
                <th>@Html.DisplayNameFor(model => model.Price)</th>
            </tr>
            @foreach (var item in Model)
            {
                <tr>
                    <td>@Html.DisplayFor(modelItem => item.ProductID)</td>
                    <td>@Html.DisplayFor(modelItem => item.Name)</td>
                    <td>@Html.DisplayFor(modelItem => item.Category)</td>
                    <td>@Html.DisplayFor(modelItem => item.Description)</td>
                    <td>@Html.DisplayFor(modelItem => item.Price)</td>
                </tr>
            }
        </table>
    </div>
</div>
```

## Using the Partial View

Replace the table code in the original `Index.cshtml` view with:

```razor
@model IEnumerable<PartialViewInMVC.Models.Product>
@{
    ViewBag.Title = "Index";
}
@Html.Partial("ProductDetails", Model)
```

This allows reuse of `ProductDetails.cshtml` wherever needed. Any change to product rendering now only needs to be made in the partial view.
